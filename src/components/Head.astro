---
import Default from "@astrojs/starlight/components/Head.astro";
import type { Props } from "@astrojs/starlight/props";

const pathname = Astro.url.pathname.endsWith("/")
  ? Astro.url.pathname.substring(0, Astro.url.pathname.length - 1)
  : Astro.url.pathname;

const ogImageUrl = new URL(`${pathname}/og.png`, Astro.site?.origin);
---

<Default {...Astro.props}><slot /></Default>

<meta property="og:image" content={ogImageUrl} />
<meta name="twitter:image" content={ogImageUrl} />